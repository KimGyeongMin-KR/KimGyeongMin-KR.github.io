# 기술 면접 한 줌 노트

## Computer science


<details>
<summary>프로세스와 스레드</summary> 
<div markdown ="1">

- 프로세스는 자원을 할당받는 작업의 단위
- 스레드는 프로세스 내에서 실행되는 여러 작업의 단위입니다.

## 프로세스
보조 메모리에 있던 프로그램이 주메모리로 올라와서 작업이 진행되는 것이다. 프로그램이 실행된 동적인 상태이다.

### 프로세스 상태
- 생성 상태 : 프로세스가 생성된 상태 PCB가 할당된다.
- 대기 상태 : CPU 스케줄러로부터 CPU 소유권이 넘어오기를 기다리는 상태
- 대기 중단 상태 : 메모리 부족으로 일시 중단된 상태
- 실행 상태 : CPU 소유권과 메모리를 할당받고 인스트럭션을 수행중인 상태. brust가 일어났다고도 표현
- 중단 상태 : 이벤트가 발생한 이후 기다리며 프로세스가 차단된 상태이다. I/O 디바이스에 의한 인터럽트. 예) 프린트 인쇄
- 일시 중단 상태 : 대기 중단과 유사하다. 중단된 상태에서 프로세스가 실행되려고 했지만 메모리 부족으로 일시 중단된 상태
- 종료 상태 : 메모리와 CPU 소유권을 모두 놓고 가는 상태를 말한다. 자연스럽게 종료된느 것도 있지만 부모 프로세스가 자식 프로세스를 강제시키는 비자발적 종료(abort)로 종료되는 것도 있다. 자식 프로세스에 할당된 자원의 한계치를 넘어서거나 부모 프로세스가 종료되거나 사용자가 process.kill등 여러 명령어로 프로세스를 종료할 때 발생한다.

### 프로세스의 메모리 구조

- 스택, 힙, 데이터 영역(BSS segment, Data segment), 코드 영역(code segment)으로 나눠진다. 스택은 위 주소부터 할당되고 힙은 아래 주소부터 할당된다.
1. 스택과 힙은 동적 할당이 되며, 동적 할당은 런타임 단계에서 메모리를 할당받는 것을 말한다.
    - 스택은 지역 변수, 매개 변수, 실행되는 함수에 의해 늘어들거나 줄어드는 메모리 영역이다. 함수가 호출될 때마다 호출될 때의 환경 등 특정 정보가 스택에 계속 저장된다. 또한, 재귀 함수가 호출된다고 했을 때 새로운 스택 프레임이 매번 사용되기 때문에 함수 내의 변수 집합이 해당 함수의 다른 인스턴스 변수를 방해하지 않습니다.
2. 데이터 영역과 코드 영역
- 정적 할당되는 영역이다. 정적 할당은 컴파일 단계에서 메모리를 할당하는 것을 말한다. 데이터 영역은 BSS segment와 Data segment, code/text segment로 나뉘어 저장된다.
- BSS는 전역 변수 또는 static, const로 선언되어 있고 0으로 초기화 또는 초기화가 어떠한 값으로도 되어 있지 않은 변수들이 이 메모리 영역에 할당된다.
- Data는 0이 아닌 값으로 초기화된 변수가 할당된다.
- code는 프로그램의 코드가 들어간다.

파이썬 코드는 가상머신(CPython)에서 실행되고, 메모리 할당은 CPython이 관리한다.
- 객체를 생성할 때 힙 영역에 할당한다. 가비지 컬렉션을 통해 관리된다.
- 함수나 메서드가 호출될 때마다 스택 영역에 프레임이 할당된다. 각 프레임은 해당 호출의 지역 변수, 코드 주소, 반환 값 등을 저장한다.
- 데이터 영역에는 전역 변수, 정적 변수 등이 할당된다.
- 코드 영역에는 코드 명령, 데이터 선언, 함수 정의 등이 할당된다. 코드 영역은 변경 불가능하고, 실행될 때 메모리에 할당된다.

## PCB
- PCB(Process Control Block)는 운영체제에서 프로세스에 대한 메타데이터를 저정한 '데이터'를 말한다. 프로세스 제어 블록이라고도 한다. 프로세스가 생성되면 운영체제는 해당 PCB를 생성한다.

`메타데이터란 데이터에 관한 구조화된 데이터이자 데이터를 설명하는 작은 데이터, 대량의 정보 가운데에서 찾고 있는 정보를 효율적으로 찾아내서 이용하기 위해 일정한 규칙에 따라 콘텐츠에 대해 부여되는 데이터 `

### PCB의 구조
- 프로세스 스케줄링 상태: '준비', '일시중단'등 프로세스가 CPU에 대한 소유권을 얻은 이후의 상태
- 프로세스 ID: 프로세스 ID, 해당 프로세스의 자식 프로세스 ID
- 프로그램 권한: 컴퓨터 자원 또는 I/O 디바이스에 대한 권한 정보
- 프로그램 카운터: 프로세스에서 실행해야 할 다음 명령어의 주소에 대한 포인터
- CPU 레지스터: 프로세스를 실행하기 위해 저장해야 할 레지스터에 대한 정보
- CPU 스케줄링 정보: CPU 스케줄러에 의해 중단된 시간 등에 대한 정보
- 계정 정보: 프로세스 실행에 사용된 CPU 사용량, 실행한 유저의 정보
- I/O 상태 정보: 프로세스에 할당된 I/O 디바이스 목록

#### 컨택스트 스위칭
- PCB를 교환하는 과정을 말한다. 한 프로세스에 할당된 시간이 끝너거나 인터럽트에 의해 발생한다. 컴퓨터는 많은 프로그램을 동시에 실행하는 것처럼 보이지만 어떠한 시점에서 실행되고 있는 프로세스는 단 한 개이며, 많은 프로세스가 동시에 구동되는 것처럼 보이는 것은 다른 프로세스와 컨텍스트 스위칭이 아주 빠른 속도로 실행되기 때문이다.

> 현대 컴퓨터는 멀티코어의 CPU를 가지기 때문에 한 시점에 한 개의 프로그램은 틀린 설명. 허나, 설명 시에는 싱글코어를 기준으로 설명한다.


</div>    
</details>


<details>
<summary>멀티 스레드, 멀티 프로세스</summary> 
<div markdown ="1">



</div>    
</details>

<details>
<summary>동시성과 병렬성</summary> 
<div markdown ="1">

- 동시성은 같은 시간에 여러 작업을 처리하는 것 처럼 보이는 것을 뜻한다.
- 병렬성은 같은 시간에 여러 작업을 실제로 처리하는 것을 뜻한다. (CPU 코어)

</div>    
</details>



## Database
- [Index, hash index, B-Tree, B+Tree란]()
<details>
<summary>Index질문 대답</summary> 
<div markdown ="1">

Index란 말그대로 색인이라는 의미를 갖습니다. 색인은 데이터를 빠르게 조회할 수 있도록 도와주는 기능이라고 할 수 있습니다. 
대표적 구조로는 해쉬 테이블과 B-Tree가 있습니다.
- 해시 인덱스의 경우에는 Key Value로 데이터를 저장하는 자료구조 중 하나로, 하나의 데이터 검색할 때 유용합니다. 그러나 부등호 연산이 자주 사용되는 검색에서는 해시 인덱스는 적합히지 않습니다. 
- 그래서 데이터베이스에서 사용되는 B-Tree 자료구조는 이진 트리에서 파생된 구조이고 가장 상단의 노드를 루트 노드, 중간 노드들을 브랜치 노드, 가장 아래의 리프노드로 구성이 되어있습니다.
- 하나의 노드는 2개 이상의 키와 데이터를 가질 수 있는 점과 자식 노드 또한 여러 개의 키와 데이터를 가질 수 있다는 특징, 또한 데이터의 삽입, 삭제 시 자동으로 구조를 조정하는 셀프 밸런싱 특징이 있어 트리의 높이를 낮출 수 있게 되어 보다 빠르게 조회가 가능합니다.
- 확장된 개념으로는 B+Tree가 있고 각 노드에 key와 data를 담는 B-Tree구조와는 다르게 브랜치 노드에 key만 담아두고, 오직 리프 노드에만 key와 data를 저장하고 리프 노드끼리 Linked List로 연결되어 있습니다. 이로 인해 메모리를 확보하고 노드에 더 많은 key를 수용할 수 있게되어 트리의 높이는 더 낮아지는 효과를 볼 수 있습니다. 또한 풀 스캔 시에도 리프노드에 데이터가 모두 있어 한 번의 선형 탐색만 하면 되기 때문에 모든 노드를 확인해야하는 B-tree에 비해 빠릅니다.
- 인덱스를 지정하는 것은 추가 적인 공간과 시간이 필요하기에 많은 필드에 인덱스를 걸게되면 오히려 성능에 악영향을 미칠 수 있습니다. 그래서 인덱스를 적절히 지정하는 순서는

1. 같음을 비교하는 등치 조건으로 사용되는 컬럼을 우선으로하고
2. 정렬에 쓰는 필드를 다음으로 지정합니다.
3. 다중 값을 출력해야 하는 필드, 쿼리 자체가 부등호거나 많은 값을 출력해야하는 쿼리에 쓰는 필드는 나중에 인덱스를 설정합니다.

</div>    
</details>


<details>
<summary>트랜잭션</summary> 
<div markdown ="1">

데이터베이스의 상태를 변경시키기 위해 수행하는 작업 단위이다 (SELECT, UPDATE, INSERT, DELETE 와 같은 행동을 뜻한다. 간단하게 DB에 접근하는 것)

- 원자성은 트랜잭션이 DB에 모두 반영되거나, 전혀 반영되지 않는것을 뜻한다.(All, or Noting)
- 일관성은 트랜잭션 작업 처리의 결과가 항상 일관되어야 한다(데이터 타입이 반환 전,후가 항상 동일해야한다)
- 독립성은 하나의 트랜잭션은 다른 트랜잭션에 끼어들 수 없고 마찬가지로 독립적임을 의미한다(서로 간섭 불가능)
- 지속성은 트랜잭션이 성공적으로 완료되면 영구적으로 결과에 반영되어야 함을 뜻한다.(commit이 된다면 지속성 만족)

</div>    
</details>


<details>
<summary>해시테이블</summary> 
<div markdown ="1">

해시 테이블은 key-value 형태로 저장하고 **해시 함수를 사용**하여 키를 **테이블의 특정 위치에 매핑**하는 데이터 구조입니다.

- 해시 테이블 구조 개선
    - Chaining : 충돌이 발생했을 때 이를 동일한 버킷에 저장하는데 이를 연결리스트 형태로 저장하는 방법을 말한다.
    - Open Addressing : 충돌이 발생했을 때 다른 주소도 이용할 수 있게 하는 기법이다.
        - 선형탐사(Linear Probing) : 가장 기본적인 기법으로 바로 인접한 인덱스에 데이터를 삽입한다
        - 제곱탐사(Quadratic Probin) : 1^2,2^2,3^2..으로 탐사를 하는 방식으로 선형탐사에 비해 더 폭넓게 탐사한다.
        - 이중해싱(Double Hashing) : 선형, 제곱탐사에서 발생하는 데이터 밀집 현상(클러스터링) 문제를 피하기 위해 도입된 것이다. 두번째 함수에서는 탐사폭을 계산하기 위해 사용된다.
- 해시 함수 개선
    - 나눗셈법(division method) : 간단하면서도 빠른 연산이 가능하다. 해시테이블의 크기 m으로 나눈 나머지를 해시값으로 반환합니다. m은 대개 소수를 쓴다.
    - 곱셈법

</div>    
</details>

